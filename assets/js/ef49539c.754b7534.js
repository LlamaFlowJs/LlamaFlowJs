"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2871],{32032:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>f,frontMatter:()=>u,metadata:()=>d,toc:()=>p});var a=n(65723),r=n(43327),o=n(82468),s=n(29753),i=n(15120);const l='import { OpenAI } from "llamaflowjs";\n\n// Example using OpenAI\'s chat API to extract JSON from a sales call transcript\n// using json_mode see https://platform.openai.com/docs/guides/text-generation/json-mode for more details\n\nconst transcript =\n  "[Phone rings]\\n\\nJohn: Hello, this is John.\\n\\nSarah: Hi John, this is Sarah from XYZ Company. I\'m calling to discuss our new product, the XYZ Widget, and see if it might be a good fit for your business.\\n\\nJohn: Hi Sarah, thanks for reaching out. I\'m definitely interested in learning more about the XYZ Widget. Can you give me a quick overview of what it does?\\n\\nSarah: Of course! The XYZ Widget is a cutting-edge tool that helps businesses streamline their workflow and improve productivity. It\'s designed to automate repetitive tasks and provide real-time data analytics to help you make informed decisions.\\n\\nJohn: That sounds really interesting. I can see how that could benefit our team. Do you have any case studies or success stories from other companies who have used the XYZ Widget?\\n\\nSarah: Absolutely, we have several case studies that I can share with you. I\'ll send those over along with some additional information about the product. I\'d also love to schedule a demo for you and your team to see the XYZ Widget in action.\\n\\nJohn: That would be great. I\'ll make sure to review the case studies and then we can set up a time for the demo. In the meantime, are there any specific action items or next steps we should take?\\n\\nSarah: Yes, I\'ll send over the information and then follow up with you to schedule the demo. In the meantime, feel free to reach out if you have any questions or need further information.\\n\\nJohn: Sounds good, I appreciate your help Sarah. I\'m looking forward to learning more about the XYZ Widget and seeing how it can benefit our business.\\n\\nSarah: Thank you, John. I\'ll be in touch soon. Have a great day!\\n\\nJohn: You too, bye.";\n\nasync function main() {\n  const llm = new OpenAI({\n    model: "gpt-4-1106-preview",\n    additionalChatOptions: { response_format: { type: "json_object" } },\n  });\n\n  const example = {\n    summary:\n      "High-level summary of the call transcript. Should not exceed 3 sentences.",\n    products: ["product 1", "product 2"],\n    rep_name: "Name of the sales rep",\n    prospect_name: "Name of the prospect",\n    action_items: ["action item 1", "action item 2"],\n  };\n\n  const response = await llm.chat({\n    messages: [\n      {\n        role: "system",\n        content: `You are an expert assistant for summarizing and extracting insights from sales call transcripts.\\n\\nGenerate a valid JSON in the following format:\\n\\n${JSON.stringify(\n          example,\n        )}`,\n      },\n      {\n        role: "user",\n        content: `Here is the transcript: \\n------\\n${transcript}\\n------`,\n      },\n    ],\n  });\n\n  console.log(response.message.content);\n}\n\nmain().catch(console.error);\n',u={sidebar_position:3},c="Structured data extraction tutorial",d={id:"getting_started/starter_tutorial/structured_data_extraction",title:"Structured data extraction tutorial",description:"Make sure you have installed llamaflowjs and have an OpenAI key. If you haven't, check out the installation guide.",source:"@site/docs/getting_started/starter_tutorial/structured_data_extraction.mdx",sourceDirName:"getting_started/starter_tutorial",slug:"/getting_started/starter_tutorial/structured_data_extraction",permalink:"/getting_started/starter_tutorial/structured_data_extraction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"mySidebar",previous:{title:"Retrieval Augmented Generation (RAG) Tutorial",permalink:"/getting_started/starter_tutorial/retrieval_augmented_generation"},next:{title:"Agent tutorial",permalink:"/getting_started/starter_tutorial/agent"}},h={},p=[{value:"Set up",id:"set-up",level:2},{value:"Extract data",id:"extract-data",level:2}];function m(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"structured-data-extraction-tutorial",children:"Structured data extraction tutorial"}),"\n",(0,a.jsxs)(t.p,{children:["Make sure you have installed llamaflowjs and have an OpenAI key. If you haven't, check out the ",(0,a.jsx)(t.a,{href:"../installation",children:"installation"})," guide."]}),"\n",(0,a.jsxs)(t.p,{children:["You can use ",(0,a.jsx)(t.a,{href:"../../examples/other_llms",children:"other LLMs"})," via their APIs; if you would prefer to use local models check out our ",(0,a.jsx)(t.a,{href:"../../examples/local_llm",children:"local LLM example"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"set-up",children:"Set up"}),"\n",(0,a.jsx)(t.p,{children:"In a new folder:"}),"\n",(0,a.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,a.jsx)(s.A,{value:"npm",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"npm init\nnpm install -D typescript @types/node\n"})})}),(0,a.jsx)(s.A,{value:"yarn",label:"Yarn",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"yarn init\nyarn add --dev typescript @types/node\n"})})}),(0,a.jsx)(s.A,{value:"pnpm",label:"pnpm",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"pnpm init\npnpm add -D typescript @types/node\n"})})})]}),"\n",(0,a.jsx)(t.h2,{id:"extract-data",children:"Extract data"}),"\n",(0,a.jsxs)(t.p,{children:["Create the file ",(0,a.jsx)(t.code,{children:"example.ts"}),". This code will:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Set up an LLM connection to GPT-4"}),"\n",(0,a.jsx)(t.li,{children:"Give an example of the data structure we wish to generate"}),"\n",(0,a.jsx)(t.li,{children:"Prompt the LLM with instructions and the example, plus a sample transcript"}),"\n"]}),"\n",(0,a.jsx)(i.A,{language:"ts",children:l}),"\n",(0,a.jsx)(t.p,{children:"To run the code:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"npx tsx example.ts\n"})}),"\n",(0,a.jsx)(t.p,{children:"You should expect output something like:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "summary": "Sarah from XYZ Company called John to introduce the XYZ Widget, a tool designed to automate tasks and improve productivity. John expressed interest and requested case studies and a product demo. Sarah agreed to send the information and follow up to schedule the demo.",\n  "products": ["XYZ Widget"],\n  "rep_name": "Sarah",\n  "prospect_name": "John",\n  "action_items": [\n    "Send case studies and additional product information to John",\n    "Follow up with John to schedule a product demo"\n  ]\n}\n'})})]})}function f(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},29753:(e,t,n)=>{n.d(t,{A:()=>s});n(22155);var a=n(70851);const r={tabItem:"tabItem_Ge7D"};var o=n(65723);function s(e){let{children:t,hidden:n,className:s}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,s),hidden:n,children:t})}},82468:(e,t,n)=>{n.d(t,{A:()=>j});var a=n(22155),r=n(70851),o=n(32490),s=n(62934),i=n(20189),l=n(38719),u=n(64228),c=n(94040);function d(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}(n);return function(e){const t=(0,u.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const r=(0,s.W6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=h(e),[s,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[u,d]=m({queryString:n,groupId:r}),[f,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,c.Dv)(n);return[r,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:r}),b=(()=>{const e=u??f;return p({value:e,tabValues:o})?e:null})();(0,i.A)((()=>{b&&l(b)}),[b]);return{selectedValue:s,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,o]),tabValues:o}}var g=n(47519);const b={tabList:"tabList_pGhr",tabItem:"tabItem_hSrI"};var v=n(65723);function x(e){let{className:t,block:n,selectedValue:a,selectValue:s,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.a_)(),c=e=>{const t=e.currentTarget,n=l.indexOf(t),r=i[n].value;r!==a&&(u(t),s(r))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>l.push(e),onKeyDown:d,onClick:c,...o,className:(0,r.A)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":a===t}),children:n??t},t)}))})}function y(e){let{lazy:t,children:n,selectedValue:r}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function w(e){const t=f(e);return(0,v.jsxs)("div",{className:(0,r.A)("tabs-container",b.tabList),children:[(0,v.jsx)(x,{...t,...e}),(0,v.jsx)(y,{...t,...e})]})}function j(e){const t=(0,g.A)();return(0,v.jsx)(w,{...e,children:d(e.children)},String(t))}}}]);