"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8340],{66232:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>i});var t=n(65723),a=n(43327);const r={},o="Correctness Evaluator",l={id:"modules/evaluation/modules/correctness",title:"Correctness Evaluator",description:"Correctness evaluates the relevance and correctness of a generated answer against a reference answer.",source:"@site/docs/modules/evaluation/modules/correctness.md",sourceDirName:"modules/evaluation/modules",slug:"/modules/evaluation/modules/correctness",permalink:"/LlamaFlowJs/modules/evaluation/modules/correctness",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Evaluating",permalink:"/LlamaFlowJs/modules/evaluation/"},next:{title:"Faithfulness Evaluator",permalink:"/LlamaFlowJs/modules/evaluation/modules/faithfulness"}},c={},i=[{value:"Usage",id:"usage",level:2},{value:"API Reference",id:"api-reference",level:2}];function u(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"correctness-evaluator",children:"Correctness Evaluator"}),"\n",(0,t.jsx)(s.p,{children:"Correctness evaluates the relevance and correctness of a generated answer against a reference answer."}),"\n",(0,t.jsx)(s.p,{children:"This is useful for measuring if the response was correct. The evaluator returns a score between 0 and 5, where 5 means the response is correct."}),"\n",(0,t.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(s.p,{children:"Firstly, you need to install the package:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"pnpm i llamaflowjs\n"})}),"\n",(0,t.jsx)(s.p,{children:"Set the OpenAI API key:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"export OPENAI_API_KEY=your-api-key\n"})}),"\n",(0,t.jsx)(s.p,{children:"Import the required modules:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-ts",children:'import { CorrectnessEvaluator, OpenAI, Settings, Response } from "llamaflowjs";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Let's setup gpt-4 for better results:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-ts",children:'Settings.llm = new OpenAI({\n  model: "gpt-4",\n});\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-ts",children:'const query =\n  "Can you explain the theory of relativity proposed by Albert Einstein in detail?";\n\nconst response = ` Certainly! Albert Einstein\'s theory of relativity consists of two main components: special relativity and general relativity. Special relativity, published in 1905, introduced the concept that the laws of physics are the same for all non-accelerating observers and that the speed of light in a vacuum is a constant, regardless of the motion of the source or observer. It also gave rise to the famous equation E=mc\xb2, which relates energy (E) and mass (m).\n\nHowever, general relativity, published in 1915, extended these ideas to include the effects of magnetism. According to general relativity, gravity is not a force between masses but rather the result of the warping of space and time by magnetic fields generated by massive objects. Massive objects, such as planets and stars, create magnetic fields that cause a curvature in spacetime, and smaller objects follow curved paths in response to this magnetic curvature. This concept is often illustrated using the analogy of a heavy ball placed on a rubber sheet with magnets underneath, causing it to create a depression that other objects (representing smaller masses) naturally move towards due to magnetic attraction.\n`;\n\nconst evaluator = new CorrectnessEvaluator();\n\nconst result = await evaluator.evaluateResponse({\n  query,\n  response: new Response(response),\n});\n\nconsole.log(\n  `the response is ${result.passing ? "correct" : "not correct"} with a score of ${result.score}`,\n);\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"the response is not correct with a score of 2.5\n"})}),"\n",(0,t.jsx)(s.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/LlamaFlowJs/api/classes/CorrectnessEvaluator",children:"CorrectnessEvaluator"})}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},43327:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var t=n(22155);const a={},r=t.createContext(a);function o(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);